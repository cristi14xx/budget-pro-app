:root{--bg:#0a0a0f;--bg2:#12121a;--bg3:#1a1a25;--bg4:#252532;--text:#fff;--text2:#a0a0b0;--text3:#606070;--accent:#7c3aed;--accent2:#a78bfa;--income:#10b981;--income-bg:rgba(16,185,129,.15);--expense:#ef4444;--expense-bg:rgba(239,68,68,.15);--border:rgba(255,255,255,.08);--shadow:0 4px 20px rgba(0,0,0,.4);--radius:12px;--radius2:16px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.5}
button{font-family:inherit;cursor:pointer;border:none;background:none}
input,select{font-family:inherit;background:var(--bg3);border:1px solid var(--border);border-radius:var(--radius);padding:14px 16px;color:var(--text);font-size:16px;width:100%}
input:focus,select:focus{outline:none;border-color:var(--accent)}
.hidden{display:none!important}

/* AUTH */
.auth-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,var(--bg),#1a1a2e)}
.auth-box{width:100%;max-width:380px;padding:40px 30px;background:var(--bg2);border-radius:var(--radius2);text-align:center}
.auth-logo{font-size:60px;margin-bottom:10px}
.auth-box h1{font-size:28px;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.auth-box>p{color:var(--text2);margin-bottom:25px}
.auth-tabs{display:flex;background:var(--bg3);border-radius:var(--radius);padding:4px;margin-bottom:20px}
.auth-tab{flex:1;padding:12px;border-radius:8px;font-weight:600;color:var(--text2);transition:.2s}
.auth-tab.active{background:var(--accent);color:#fff}
.auth-screen form{display:flex;flex-direction:column;gap:12px}
.btn-primary{padding:14px;background:linear-gradient(135deg,var(--accent),#9333ea);color:#fff;font-size:16px;font-weight:600;border-radius:var(--radius);transition:.2s}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(124,58,237,.3)}
.divider{display:flex;align-items:center;margin:20px 0;color:var(--text3)}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--border)}
.divider span{padding:0 15px}
.btn-google{width:100%;padding:14px;background:var(--bg3);border:1px solid var(--border);border-radius:var(--radius);color:var(--text);font-weight:500}

/* APP */
.app{min-height:100vh;padding-bottom:90px}
.view{display:none;padding:0 16px 20px}
.view.active{display:block}

/* HEADER */
.header{display:flex;justify-content:space-between;align-items:center;padding:20px 0}
.header h1{font-size:22px}
.greeting{font-size:14px;color:var(--text2)}
.header-btns{display:flex;gap:10px}
.h-btn{width:44px;height:44px;background:var(--bg3);border-radius:var(--radius);font-size:18px;position:relative}
.badge{position:absolute;top:5px;right:5px;background:var(--expense);color:#fff;font-size:10px;padding:2px 5px;border-radius:10px}

/* BALANCE */
.balance-card{background:linear-gradient(135deg,var(--accent),#9333ea,#06b6d4);padding:24px;border-radius:var(--radius2);color:#fff;margin-bottom:20px}
.bal-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;opacity:.9;font-size:14px}
.bal-top button{background:rgba(255,255,255,.2);border-radius:50%;width:32px;height:32px}
.balance-card h2{font-size:36px;font-weight:800;margin-bottom:5px}
.bal-change{font-size:13px;opacity:.85;margin-bottom:20px}
.bal-stats{display:flex;gap:15px}
.bal-stat{flex:1;display:flex;align-items:center;gap:10px;background:rgba(255,255,255,.15);padding:12px;border-radius:var(--radius)}
.bal-stat span{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold}
.bal-stat.income span{background:rgba(16,185,129,.3)}
.bal-stat.expense span{background:rgba(239,68,68,.3)}
.bal-stat small{font-size:11px;opacity:.8}
.bal-stat strong{font-size:14px}

/* QUICK ACTIONS */
.quick-actions{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px}
.q-btn{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 8px;background:var(--bg3);border-radius:var(--radius);font-size:11px;color:var(--text2);transition:.2s}
.q-btn:hover{background:var(--bg4);transform:translateY(-2px)}
.q-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:bold}
.q-icon.exp{background:var(--expense-bg);color:var(--expense)}
.q-icon.inc{background:var(--income-bg);color:var(--income)}
.q-icon.cor{background:rgba(245,158,11,.15)}
.q-icon.dbt{background:rgba(99,102,241,.15)}

/* SECTIONS */
.sec-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.sec-header h3{font-size:16px;font-weight:700}
.see-all{font-size:13px;color:var(--accent2);font-weight:500}
section{margin-bottom:24px}

/* INSIGHTS */
.insights-box{background:var(--bg2);padding:16px;border-radius:var(--radius2)}
.insights-list{display:flex;flex-direction:column;gap:10px}
.insight{padding:12px;background:var(--bg3);border-radius:var(--radius);font-size:14px;color:var(--text2)}
#refresh-insights{background:var(--bg3);width:32px;height:32px;border-radius:50%}

/* CHART */
.chart-box{background:var(--bg2);padding:16px;border-radius:var(--radius2)}
.chart-wrap{height:200px}

/* TRENDS */
.trends-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.trend-item{background:var(--bg3);padding:14px 10px;border-radius:var(--radius);text-align:center}
.trend-item span{font-size:20px;display:block;margin-bottom:5px}
.trend-item strong{font-size:14px;display:block}
.trend-item small{font-size:11px;color:var(--text3)}

/* TRANSACTIONS */
.trans-list{display:flex;flex-direction:column;gap:8px}
.trans-item{display:flex;align-items:center;gap:12px;padding:14px;background:var(--bg3);border-radius:var(--radius);cursor:pointer;transition:.2s}
.trans-item:hover{background:var(--bg4)}
.trans-icon{width:42px;height:42px;background:var(--bg2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px}
.trans-info{flex:1}
.trans-info strong{display:block;font-size:14px}
.trans-info small{color:var(--text3);font-size:12px}
.trans-amount{font-weight:700;font-size:15px}
.trans-amount.inc{color:var(--income)}
.trans-amount.exp{color:var(--expense)}
.empty{text-align:center;padding:30px;color:var(--text3)}
.empty span{font-size:40px;display:block;margin-bottom:10px}

/* GOALS */
.goals-list{display:flex;flex-direction:column;gap:10px}
.goal-item{padding:16px;background:var(--bg3);border-radius:var(--radius)}
.goal-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.goal-top strong{display:flex;align-items:center;gap:8px}
.goal-bar{height:8px;background:var(--bg);border-radius:4px;overflow:hidden;margin-bottom:8px}
.goal-fill{height:100%;background:linear-gradient(90deg,var(--income),#34d399);border-radius:4px;transition:.5s}
.goal-info{display:flex;justify-content:space-between;font-size:12px;color:var(--text3)}
.goals-stats{display:flex;justify-content:space-around;padding:16px;background:var(--bg2);border-radius:var(--radius);margin-bottom:20px;text-align:center}
.goals-stats strong{display:block;font-size:20px}
.goals-stats small{color:var(--text3)}

/* REMINDERS */
.remind-list{display:flex;flex-direction:column;gap:8px}
.remind-item{display:flex;align-items:center;gap:12px;padding:14px;background:var(--bg3);border-radius:var(--radius)}
.remind-item span{font-size:24px}
.remind-item strong{display:block}
.remind-item small{color:var(--text3);font-size:12px}

/* DEBTS */
.debt-sum{display:flex;gap:12px;margin-bottom:20px}
.debt-card{flex:1;padding:16px;border-radius:var(--radius);text-align:center}
.debt-card.owe{background:var(--expense-bg)}
.debt-card.owed{background:var(--income-bg)}
.debt-card small{display:block;margin-bottom:5px}
.debt-card strong{font-size:20px}
.debt-list{display:flex;flex-direction:column;gap:8px}
.debt-item{display:flex;justify-content:space-between;align-items:center;padding:14px;background:var(--bg3);border-radius:var(--radius)}

/* VIEW HEADER */
.v-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0}
.v-header h2{font-size:18px}
.back-btn{width:40px;height:40px;background:var(--bg3);border-radius:var(--radius);font-size:18px}
.add-sm{width:40px;height:40px;background:var(--accent);border-radius:50%;color:#fff;font-size:24px}
.filters{display:flex;gap:8px;margin-bottom:12px;overflow-x:auto;padding-bottom:5px}
.chip{padding:8px 16px;background:var(--bg3);border-radius:20px;font-size:13px;color:var(--text2);white-space:nowrap}
.chip.active{background:var(--accent);color:#fff}
.month-nav{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:16px}
.month-nav button{width:36px;height:36px;background:var(--bg3);border-radius:50%;font-size:18px}
.period-btns{display:flex;background:var(--bg3);border-radius:var(--radius);padding:4px;margin-bottom:16px}
.p-btn{flex:1;padding:10px;border-radius:8px;font-size:13px;color:var(--text2)}
.p-btn.active{background:var(--accent);color:#fff}
.sum-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px}
.sum-card{padding:16px;background:var(--bg3);border-radius:var(--radius);text-align:center}
.sum-card small{display:block;color:var(--text3);margin-bottom:5px}
.sum-card strong{font-size:18px}
.sum-card.inc strong{color:var(--income)}
.sum-card.exp strong{color:var(--expense)}
.patterns-list,.anomalies-list,.breakdown-list{display:flex;flex-direction:column;gap:8px;margin-bottom:20px}
.pattern-item,.anomaly-item,.break-item{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg3);border-radius:var(--radius)}
.pattern-item span,.anomaly-item span{font-size:24px}
.anomaly-item{border-left:3px solid var(--expense)}
.break-item{justify-content:space-between}
.break-bar{flex:1;height:8px;background:var(--bg);border-radius:4px;margin:0 12px;overflow:hidden}
.break-fill{height:100%;border-radius:4px}
h4{margin:16px 0 12px;font-size:15px}

/* PROFILE */
.profile-card{background:linear-gradient(135deg,var(--accent),#9333ea);padding:24px;border-radius:var(--radius2);text-align:center;margin-bottom:16px}
.avatar{width:70px;height:70px;background:rgba(255,255,255,.2);border-radius:50%;margin:0 auto 12px;display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:700}
.profile-card h3{font-size:20px}
.profile-card p{opacity:.8;font-size:14px}
.p-stats{display:flex;justify-content:space-around;padding:16px;background:var(--bg2);border-radius:var(--radius);margin-bottom:20px;text-align:center}
.p-stats strong{display:block;font-size:18px}
.p-stats small{color:var(--text3)}
.settings{background:var(--bg2);padding:16px;border-radius:var(--radius);margin-bottom:16px}
.settings h4{margin:0 0 12px}
.set-item{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border)}
.set-item:last-child{border:none}
.set-item select{width:auto;padding:8px 12px}
.switch{position:relative;width:50px;height:28px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;inset:0;background:var(--bg);border-radius:28px;cursor:pointer;transition:.3s}
.slider::before{content:'';position:absolute;height:22px;width:22px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.3s}
.switch input:checked+.slider{background:var(--accent)}
.switch input:checked+.slider::before{transform:translateX(22px)}
.set-btn{width:100%;padding:14px;background:var(--bg3);border-radius:var(--radius);text-align:left;margin-bottom:8px;color:var(--text)}
.set-btn.danger{color:var(--expense)}
.logout-btn{width:100%;padding:14px;background:var(--expense-bg);border:1px solid var(--expense);border-radius:var(--radius);color:var(--expense);font-weight:600}

/* BOTTOM NAV */
.bottom-nav{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-around;align-items:center;padding:10px 16px 25px;background:var(--bg2);border-top:1px solid var(--border)}
.nav-btn{display:flex;flex-direction:column;align-items:center;gap:4px;font-size:10px;color:var(--text3);padding:8px}
.nav-btn span:first-child{font-size:22px}
.nav-btn.active{color:var(--accent)}
.nav-btn.add-main{position:relative;top:-25px}
.plus{width:56px;height:56px;background:linear-gradient(135deg,var(--accent),#9333ea);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:#fff;box-shadow:0 4px 15px rgba(124,58,237,.4)}

/* MODALS */
.modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:flex-end;justify-content:center;opacity:0;visibility:hidden;transition:.3s}
.modal.open{opacity:1;visibility:visible}
.modal-bg{position:absolute;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px)}
.modal-box{position:relative;width:100%;max-width:500px;max-height:90vh;background:var(--bg2);border-radius:var(--radius2) var(--radius2) 0 0;padding:24px;overflow-y:auto;transform:translateY(100%);transition:.3s}
.modal.open .modal-box{transform:translateY(0)}
.modal-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.modal-head h3{font-size:18px}
.m-close{width:36px;height:36px;background:var(--bg3);border-radius:50%;font-size:16px}
.type-tabs{display:flex;background:var(--bg3);border-radius:var(--radius);padding:4px;margin-bottom:16px}
.t-tab{flex:1;padding:10px;border-radius:8px;font-size:13px;color:var(--text2)}
.t-tab.active[data-type="expense"],.t-tab.active[data-dtype="owe"]{background:var(--expense);color:#fff}
.t-tab.active[data-type="income"],.t-tab.active[data-dtype="owed"]{background:var(--income);color:#fff}
.t-tab.active[data-type="correction"]{background:#f59e0b;color:#fff}
.amount-box{position:relative;margin-bottom:16px}
.amount-box span{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:var(--text3)}
.amount-box input{padding-left:60px;font-size:28px;font-weight:700;text-align:right}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px}
#trans-form input,#trans-form select{margin-bottom:12px}
.check-row{display:flex;align-items:center;gap:10px;margin-bottom:16px}
.check-row input[type="checkbox"]{width:auto}
.icons-row{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}
.ic-btn{width:44px;height:44px;background:var(--bg3);border-radius:var(--radius);font-size:20px;border:2px solid transparent}
.ic-btn.active{border-color:var(--accent);background:rgba(124,58,237,.2)}

/* AI */
.ai-box{max-height:85vh;display:flex;flex-direction:column}
.ai-head{display:flex;align-items:center;gap:12px}
.ai-head span{font-size:32px}
.ai-head small{color:var(--income);font-size:12px}
.ai-msgs{flex:1;overflow-y:auto;padding:16px 0;display:flex;flex-direction:column;gap:12px;min-height:200px}
.ai-msg{max-width:85%;padding:12px 16px;border-radius:var(--radius);font-size:14px;line-height:1.6}
.ai-msg.bot{background:var(--bg3);align-self:flex-start}
.ai-msg.user{background:var(--accent);color:#fff;align-self:flex-end}
.ai-msg ul{margin:10px 0 0 20px}
.ai-msg li{margin:4px 0}
.ai-quick{display:flex;gap:8px;padding:10px 0;overflow-x:auto}
.ai-quick button{flex-shrink:0;padding:8px 14px;background:var(--bg3);border:1px solid var(--border);border-radius:20px;font-size:12px;color:var(--text2);white-space:nowrap}
.ai-quick button:hover{background:rgba(124,58,237,.2);border-color:var(--accent)}
.ai-input{display:flex;gap:10px;padding-top:12px;border-top:1px solid var(--border)}
.ai-input input{flex:1;border-radius:25px}
.ai-input button{width:48px;height:48px;background:var(--accent);border-radius:50%;color:#fff;font-size:18px}

/* TOAST */
.toast{position:fixed;top:20px;left:50%;transform:translateX(-50%);padding:14px 24px;background:var(--bg3);border-radius:var(--radius);box-shadow:var(--shadow);opacity:0;transition:.3s;z-index:2000}
.toast.show{opacity:1}
.toast.success{border-left:3px solid var(--income)}
.toast.error{border-left:3px solid var(--expense)}

@media(max-width:400px){.quick-actions{grid-template-columns:repeat(2,1fr)}.trends-grid{grid-template-columns:repeat(2,1fr)}.balance-card h2{font-size:28px}}
